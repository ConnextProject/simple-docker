"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const env_1 = require("./env");
exports.replaceUrlProtocol = (url, protocol, delimiter = "://") => {
    let arr = url.split(delimiter);
    if (arr.length > 1) {
        arr.shift();
    }
    arr.unshift(protocol);
    return arr.join(delimiter);
};
exports.replaceUrlPort = (url, port, delimiter = ":") => {
    const arr = url.split(delimiter);
    if (arr.length > 1) {
        arr.pop();
    }
    arr.push(`${port}`);
    return arr.join(delimiter);
};
exports.formatMessagingUrl = (nodeUrl) => {
    let url = exports.replaceUrlProtocol(nodeUrl, env_1.isNode()
        ? "nats"
        : nodeUrl
            .split("://")
            .shift()
            .replace(/^http/, "ws"));
    if (env_1.isNode()) {
        return url.includes("/api") ? url.split("/api")[0] + ":4222" : url.split(":8080")[0] + ":4222";
    }
    url = `${url}/messaging`;
    return url;
};
//# sourceMappingURL=url.js.map